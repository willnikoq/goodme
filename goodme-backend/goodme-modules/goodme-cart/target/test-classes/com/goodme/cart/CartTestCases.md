# 购物车模块测试用例

## 1. 添加商品到购物车

### 测试用例1：正常添加商品
**请求参数：**
```json
{
  "shopId": 1,
  "productId": 101,
  "skuId": 1001,
  "quantity": 2,
  "specJson": "[{\"specId\":1,\"specName\":\"规格\",\"valueId\":1,\"valueName\":\"中杯\",\"extraPrice\":0},{\"specId\":2,\"specName\":\"温度\",\"valueId\":5,\"valueName\":\"常温\",\"extraPrice\":0}]"
}
```

**预期结果：**
- 状态码：200
- 返回购物车项详情，包含商品名称、价格、数量等信息

### 测试用例2：添加已存在商品
**请求参数：**
```json
{
  "shopId": 1,
  "productId": 101,
  "skuId": 1001,
  "quantity": 1,
  "specJson": "[{\"specId\":1,\"specName\":\"规格\",\"valueId\":1,\"valueName\":\"中杯\",\"extraPrice\":0},{\"specId\":2,\"specName\":\"温度\",\"valueId\":5,\"valueName\":\"常温\",\"extraPrice\":0}]"
}
```

**预期结果：**
- 状态码：200
- 返回购物车项详情，数量应为3（原有2个+新增1个）

### 测试用例3：添加不存在的商品
**请求参数：**
```json
{
  "shopId": 1,
  "productId": 999,
  "skuId": 9999,
  "quantity": 1,
  "specJson": "[]"
}
```

**预期结果：**
- 状态码：500
- 错误信息：商品不存在

## 2. 获取购物车列表

### 测试用例1：获取特定店铺的购物车
**请求参数：**
```json
{
  "shopId": 1
}
```

**预期结果：**
- 状态码：200
- 返回该店铺的购物车商品列表

### 测试用例2：获取不存在店铺的购物车
**请求参数：**
```json
{
  "shopId": 999
}
```

**预期结果：**
- 状态码：500
- 错误信息：店铺不存在

## 3. 更新购物车商品数量

### 测试用例1：正常更新数量
**请求参数：**
```json
{
  "cartItemId": 1,
  "quantity": 5
}
```

**预期结果：**
- 状态码：200
- 返回更新后的购物车项，数量为5

### 测试用例2：更新不存在的购物车项
**请求参数：**
```json
{
  "cartItemId": 999,
  "quantity": 1
}
```

**预期结果：**
- 状态码：500
- 错误信息：购物车商品不存在

## 4. 删除购物车商品

### 测试用例1：删除单个商品
**请求参数：**
```json
{
  "cartItemIds": [1]
}
```

**预期结果：**
- 状态码：200
- 成功删除商品

### 测试用例2：批量删除商品
**请求参数：**
```json
{
  "cartItemIds": [2, 3, 4]
}
```

**预期结果：**
- 状态码：200
- 成功删除多个商品

## 5. 清空购物车

### 测试用例1：清空特定店铺的购物车
**请求参数：**
```json
{
  "shopId": 1
}
```

**预期结果：**
- 状态码：200
- 成功清空该店铺的所有购物车商品

## 6. 更新购物车商品选中状态

### 测试用例1：选中商品
**请求参数：**
```json
{
  "cartItemId": 5,
  "selected": true
}
```

**预期结果：**
- 状态码：200
- 成功更新选中状态

### 测试用例2：取消选中商品
**请求参数：**
```json
{
  "cartItemId": 5,
  "selected": false
}
```

**预期结果：**
- 状态码：200
- 成功更新选中状态 